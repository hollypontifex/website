<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Holly Pontifex</title>
    <script src="needlemanWunsch.js"></script>
    <script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <link href="seq.css" rel="stylesheet">
</head>

<script>
    function restart(){
        clear();
        needlemanWunsch.highlightOptimal();
    }
    
    function clear(){
        var cont = $('#cont');
        var resultContainer = $('#result');
        var matchScore = parseInt($('#matchScore').val());
        var mismatchScore = parseInt($('#mismatchScore').val());
        var gapScore = parseInt($('#gapScore').val());
        var seqSide = $('#seq_1').val();
        var seqTop = $('#seq_2').val();
        
        needlemanWunsch.rebuildTable(cont, resultContainer, matchScore, mismatchScore, gapScore, seqSide, seqTop);
    }
    $(document).ready(function(){
        restart();
        
        $('.seq').keyup(function(){
            restart();
        });
    
        $('.params').change(function(){
            restart();
        });
        $('.btn-clear').click(function(){
            clear();
        });
    });
    </script>
<body>
    <table>
        <tr>
            <td><label>Sequence 1</label></td>
            <td colspan="4"><input id="seq_1" class='seq' value="GATTACA" maxlength="20" /></label></td>
            <td rowspan="10" id="result"></td>
        </tr>
        <tr>
            <td><label>Sequence 2</label></td>
            <td colspan="4"><input id="seq_2" class='seq' value="GTCGACG" maxlength="20" /></td>
         </tr>
        <tr colspan="4">
            <th><label>Match Score</label></th>
            <th><label>Mismatch Score</label></th>
            <th><label>Gap Score</label></th>
        </tr>
        <tr>
            <td><input class="params" id="matchScore" type="number" value="1" /></td>
            <td><input class="params" id="mismatchScore" type="number" value="-1" /></td>
            <td><input class="params" id="gapScore" type="number" value="-2" /></td>
        </tr>
        </table>    
        <div id="cont"></div>
</body>
</html>